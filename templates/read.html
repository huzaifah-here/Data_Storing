{% extends 'base.html' %}
{% block body %}

<h1>{{ the_title }}</h1>


<form action="{{ url_for('read_data') }}" method="post">
    <div class="form-group">
      <label for="user-name">Name</label>
      <input type="text" class="form-control" name='user-name' placeholder="Name">
    </div>
    
  
  <button onclick="loadData()" type="submit" class="btn-submit">Submit</button>
  
    
  </form>
<script>
function loadData() {
    var xhr = new XMLHttpRequest();
    xhr.open("GET", "/data");
    xhr.onreadystatechange = function() {
      if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
        // Update the page with the new data
        document.getElementById("data-area").innerHTML = xhr.responseText;
      }
    };
    xhr.send();
  }
  </script>

<div id="data-area">
        
    {% for item in data %}
        <p>{{ item[0] }}: {{ item[1] }}</p>
    {% endfor %}

</div>







{% endblock %}
